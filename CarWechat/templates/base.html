<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--Import Google Icon Font-->
    <link href="https://cdn.bootcss.com/material-design-icons/3.0.1/iconfont/material-icons.min.css" rel="stylesheet">
    <!--Import materialize.css-->
    <link href="https://cdn.bootcss.com/weui/1.1.2/style/weui.min.css" rel="stylesheet">
    <link href="{{ url_for('static',filename='css/weui-extension.min.css') }}" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static',filename='css/main.css') }}">
    {% block css %}{% endblock %}
    <!--Let browser know website is optimized for mobile-->
    <script type="text/javascript" src="https://res.wx.qq.com/open/libs/weuijs/1.1.3/weui.min.js"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
</head>

<body>
<div class="weui-tab">
    <div class="weui-tab__panel" id="weui-tab__panel">
        {% block content %}{% endblock %}
    </div>
    <div class="weui-tabbar">
        <a href="{{ url_for('web.selectCar') }}" class="weui-tabbar__item" id="nav-select">
            <img src="{{ url_for('static',filename='img/出租车.png') }}" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">租车</p>
        </a>
        <a href="{{ url_for('web.order') }}" class="weui-tabbar__item" id="nav-order">
            <img src="{{ url_for('static',filename='img/订单.png') }}" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">订单</p>
        </a>
        <a href="{{ url_for('web.map') }}" class="weui-tabbar__item" id="nav-map">
            <img src="{{ url_for('static',filename='img/公交车站.png') }}" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">服务点</p>
        </a>
        <a href="{{ url_for('web.profile') }}" class="weui-tabbar__item" id="nav-profile">
            <img src="{{ url_for('static',filename='img/个人中心.png') }}" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">我</p>
        </a>
    </div>
</div>
{#<nav>#}
{#    <div class="nav-wrapper blue lighten-2">#}
{##}
{#        <a href="#" class="brand-logo"><i class="material-icons">home</i>通力汽车{{current}}</a>#}
{#        {% if current_user.is_authenticated %}#}
{##}
{#        <img src="{{imgDomain}}{{ current_user.img }}" alt="Contact Person" class="circle head"#}
{#             data-activates="slide-out" id="headimg">#}
{#        <!--<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>-->#}
{#        {% else %}#}
{#        <p>未登录</p>#}
{#        {% endif %}#}
{#        <ul id="slide-out" class="side-nav">#}
{#            <li>#}
{#                <div class="userView">#}
{#                    <div class="background">#}
{#                        <img src="{{ url_for('static',filename='img/background.png') }}">#}
{#                    </div>#}
{#                    <a href="#!user"><img class="circle" src="{{imgDomain}}{{ current_user.img }}"></a>#}
{#                    <a href="#!name"><span class="white-text name">{{current_user.name}}</span></a>#}
{#                </div>#}
{#            </li>#}
{#            <li><a href="{{ url_for('web.selectCar') }}"><i class="material-icons">shopping_cart</i>去租车</a> </li>#}
{#            <li><a href="{{ url_for('web.order') }}"><i class="material-icons">view_list</i>看订单</a> </li>#}
{#            <!--<li>-->#}
{#                <!--<div class="divider"></div>-->#}
{#            <!--</li>-->#}
{#            <!--<li><a class="subheader">子标题</a></li>-->#}
{#            <!--<li><a class="waves-effect" href="#!">带波纹效果的第三链接</a></li>-->#}
{#        </ul>#}
{##}
{#    </div>#}
{##}
{#</nav>#}
{#{% block content %}{% endblock %}#}
{% block modal %}

{% endblock %}
<!--Import jQuery before materialize.js-->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>

{#<script src="https://cdn.bootcss.com/materialize/0.100.2/js/materialize.min.js"></script>#}
<script type="text/javascript" src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
    $(document).ready(function () {
        //给class为.scroll的元素加上自定义的滚动事件
        overscroll(document.querySelectorAll('.row'))
    });
    var overscroll = function (els) {
        for (var i = 0; i < els.length; ++i) {
            var el = els[i];
            el.addEventListener('touchstart', function () {
                var top = this.scrollTop
                    , totalScroll = this.scrollHeight
                    , currentScroll = top + this.offsetHeight;
                //If we're at the top or the bottom of the containers
                //scroll, push up or down one pixel.
                //
                //this prevents the scroll from "passing through" to
                //the body.
                if (top === 0) {
                    this.scrollTop = 1;
                } else if (currentScroll === totalScroll) {
                    this.scrollTop = top - 1;
                }
            });
            el.addEventListener('touchmove', function (evt) {
                //if the content is actually scrollable, i.e. the content is long enough
                //that scrolling can occur
                if (this.offsetHeight < this.scrollHeight)
                    evt._isScroller = true;
            });
        }
    };

    //禁止body的滚动事件
    document.body.addEventListener('touchmove', function (evt) {
        //In this case, the default behavior is scrolling the body, which
        //would result in an overflow.  Since we don't want that, we preventDefault.
        if (!evt._isScroller) {
            evt.preventDefault();
        }
    });


</script>
{% block script %}{% endblock %}
</body>
</html>